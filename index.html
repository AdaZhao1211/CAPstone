<!DOCTYPE html>
<html>

<head>
    <script src="https://code.jquery.com/jquery-3.3.1.min.js" integrity="sha256-FgpCb/KJQlLNfOu91ta32o/NMZxltwRo8QtmkMRdAu8=" crossorigin="anonymous"></script>
    <script type="text/javascript" src="sketch.js"></script>
    <script type="text/javascript" src="compile.js"></script>
    <script type="text/javascript" src="mips.js"></script>
    <link rel="stylesheet" href="master.css">
    <link rel="stylesheet" href="lib/codemirror.css">
    <script type="text/javascript" src="lib/codemirror.js"></script>
    <script type="text/javascript" src="lib/jquery.mousewheel.min.js"></script>
    <script type="text/javascript" src="mode/clike/clike.js"></script>
    <script src="https://d3js.org/d3.v5.min.js"></script>
</head>

<body>
    <div class="title">
        <h3>MIPS Architecture Probe</h3>
    </div>
    <div class="container">
        <div class="codeView">
            <div class="codeContainer">
                <div id="codeEditor">
                </div>
            </div>
            <div class="assemblyContainer">
                <div id="assemblyEditor">
                </div>
            </div>
        </div>
        <div class="svgContainer">
            <div class="svgDiv">
            </div>
            <div class="svgImage">
                <div class="microarchitecture">
                    <svg version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px" width="841.89px" height="595.28px" viewBox="0 0 841.89 595.28" enable-background="new 0 0 841.89 595.28" xml:space="preserve">
                        <g id="registerOther">
                            <rect x="221.173" y="232.663" fill="none" stroke="#000000" stroke-miterlimit="10" width="160.74" height="166.958" />
                            <text transform="matrix(1 0 0 1 191.0061 257.8295)" font-family="'Raleway-Regular'" font-size="12">A1</text>
                            <text transform="matrix(1 0 0 1 191.1726 297.6627)" font-family="'Raleway-Regular'" font-size="12">A2</text>
                            <text transform="matrix(1 0 0 1 191.0059 337.4962)" font-family="'Raleway-Regular'" font-size="12">A3</text>
                            <text transform="matrix(1 0 0 1 190.8391 377.8295)" font-family="'Raleway-Regular'" font-size="12">WD3</text>
                            <text transform="matrix(1 0 0 1 290.5059 227.8295)" font-family="'Raleway-Regular'" font-size="12">WE3</text>
                            <text transform="matrix(1 0 0 1 387.3392 277.6628)" font-family="'Raleway-Regular'" font-size="12">RD1</text>
                            <text transform="matrix(1 0 0 1 386.8393 337.4963)" font-family="'Raleway-Regular'" font-size="12">RD2</text>
                        </g>
                        <g id="registerFile">
                            <rect x="226.506" y="238.996" fill="none" stroke="#3EABE1" stroke-miterlimit="10" width="30" height="15" />
                            <rect x="266.506" y="238.996" fill="none" stroke="#3EABE1" stroke-miterlimit="10" width="30" height="15" />
                            <rect x="306.506" y="238.996" fill="none" stroke="#D99DC6" stroke-miterlimit="10" width="30" height="15" />
                            <rect x="346.506" y="238.996" fill="none" stroke="#D99DC6" stroke-miterlimit="10" width="30" height="15" />
                            <rect x="226.506" y="258.996" fill="none" stroke="#6152A3" stroke-miterlimit="10" width="30" height="15" />
                            <rect x="266.506" y="258.996" fill="none" stroke="#6152A3" stroke-miterlimit="10" width="30" height="15" />
                            <rect x="306.506" y="258.996" fill="none" stroke="#6152A3" stroke-miterlimit="10" width="30" height="15" />
                            <rect x="346.506" y="258.996" fill="none" stroke="#6152A3" stroke-miterlimit="10" width="30" height="15" />
                            <rect x="226.506" y="278.996" fill="none" stroke="#F8CE58" stroke-miterlimit="10" width="30" height="15" />
                            <rect x="266.506" y="278.996" fill="none" stroke="#F8CE58" stroke-miterlimit="10" width="30" height="15" />
                            <rect x="306.506" y="278.996" fill="none" stroke="#F8CE58" stroke-miterlimit="10" width="30" height="15" />
                            <rect x="346.506" y="278.996" fill="none" stroke="#F8CE58" stroke-miterlimit="10" width="30" height="15" />
                            <rect x="226.506" y="298.996" fill="none" stroke="#F8CE58" stroke-miterlimit="10" width="30" height="15" />
                            <rect x="266.506" y="298.996" fill="none" stroke="#F8CE58" stroke-miterlimit="10" width="30" height="15" />
                            <rect x="306.506" y="298.996" fill="none" stroke="#F8CE58" stroke-miterlimit="10" width="30" height="15" />
                            <rect x="346.506" y="298.996" fill="none" stroke="#F8CE58" stroke-miterlimit="10" width="30" height="15" />
                            <rect x="226.506" y="318.996" fill="none" stroke="#6DBE45" stroke-miterlimit="10" width="30" height="15" />
                            <rect x="266.506" y="318.996" fill="none" stroke="#6DBE45" stroke-miterlimit="10" width="30" height="15" />
                            <rect x="306.506" y="318.996" fill="none" stroke="#6DBE45" stroke-miterlimit="10" width="30" height="15" />
                            <rect x="346.506" y="318.996" fill="none" stroke="#6DBE45" stroke-miterlimit="10" width="30" height="15" />
                            <rect x="226.506" y="338.996" fill="none" stroke="#6DBE45" stroke-miterlimit="10" width="30" height="15" />
                            <rect x="266.506" y="338.996" fill="none" stroke="#6DBE45" stroke-miterlimit="10" width="30" height="15" />
                            <rect x="306.506" y="338.996" fill="none" stroke="#6DBE45" stroke-miterlimit="10" width="30" height="15" />
                            <rect x="346.506" y="338.996" fill="none" stroke="#6DBE45" stroke-miterlimit="10" width="30" height="15" />
                            <rect x="226.506" y="358.996" fill="none" stroke="#F8CE58" stroke-miterlimit="10" width="30" height="15" />
                            <rect x="266.506" y="358.996" fill="none" stroke="#F8CE58" stroke-miterlimit="10" width="30" height="15" />
                            <rect x="306.506" y="358.996" fill="none" stroke="#3EABE1" stroke-miterlimit="10" width="30" height="15" />
                            <rect x="346.506" y="358.996" fill="none" stroke="#3EABE1" stroke-miterlimit="10" width="30" height="15" />
                            <rect x="226.506" y="378.996" fill="none" stroke="#3EABE1" stroke-miterlimit="10" width="30" height="15" />
                            <rect x="266.506" y="378.996" fill="none" stroke="#3EABE1" stroke-miterlimit="10" width="30" height="15" />
                            <rect x="306.506" y="378.996" fill="none" stroke="#3EABE1" stroke-miterlimit="10" width="30" height="15" />
                            <rect x="346.506" y="378.996" fill="none" stroke="#3EABE1" stroke-miterlimit="10" width="30" height="15" />
                        </g>
                        <g id="registerFrame">
                            <rect x="191.006" y="217.579" fill="none" stroke="#000000" stroke-miterlimit="10" width="219.75" height="190.917" />
                        </g>
                        <g id="noLit">
                            <rect x="27.839" y="217.163" fill="none" stroke="#000000" stroke-miterlimit="10" width="81.333" height="81.333" />
                            <text transform="matrix(1 0 0 1 39.2385 253.163)">
                                <tspan x="0" y="0" font-family="'Raleway-Regular'" font-size="12">Instruction</tspan>
                                <tspan x="6.042" y="14.4" font-family="'Raleway-Regular'" font-size="12">Memory</tspan>
                            </text>
                            <rect x="191.435" y="67.867" fill="none" stroke="#000000" stroke-miterlimit="10" width="130" height="101.333" />
                            <text transform="matrix(1 0 0 1 235.7419 115.1253)">
                                <tspan x="0" y="0" font-family="'Raleway-Regular'" font-size="12">Control</tspan>
                                <tspan x="9.156" y="14.4" font-family="'Raleway-Regular'" font-size="12">Unit</tspan>
                            </text>
                            <line fill="none" stroke="#888888" stroke-miterlimit="10" x1="301.506" y1="169.163" x2="301.506" y2="217.83" />
                            <text transform="matrix(1 0 0 1 438.3039 434.0194)" font-family="'MyriadPro-BoldCond'" font-size="12.3367">0</text>
                            <text transform="matrix(1 0 0 1 438.7385 452.8065)" font-family="'MyriadPro-BoldCond'" font-size="12.3367">1</text>
                            <polygon fill="none" stroke="#000000" stroke-width="2" stroke-miterlimit="10" points="490.775,361.632 470.214,367.044
                470.214,326.282 490.775,331.693   " />
                            <polygon fill="none" stroke="#000000" stroke-width="2" stroke-miterlimit="10" points="452.275,454.632 431.714,460.044
                431.714,419.282 452.275,424.693   " />
                            <text transform="matrix(1 0 0 1 477.3039 341.0194)" font-family="'MyriadPro-BoldCond'" font-size="12.3367">0</text>
                            <text transform="matrix(1 0 0 1 477.7385 359.8065)" font-family="'MyriadPro-BoldCond'" font-size="12.3367">1</text>
                            <polygon fill="none" stroke="#000000" stroke-width="2" stroke-miterlimit="10" points="522.582,268.369 522.582,311.027
                546.86,317.271 522.409,323.514 522.409,366.521 571.661,353.861 571.661,280.853  " />
                            <text transform="matrix(0 -1 1 0 567.8124 327.96)" font-family="'MyriadPro-Bold'" font-size="10.1718">ALU</text>
                            <rect x="622.11" y="269.45" fill="none" stroke="#000000" stroke-miterlimit="10" width="90.333" height="135.667" />
                            <text transform="matrix(1 0 0 1 654.3948 333.8755)">
                                <tspan x="0" y="0" font-family="'Raleway-Regular'" font-size="12">Data</tspan>
                                <tspan x="-10.386" y="14.4" font-family="'Raleway-Regular'" font-size="12">Memory</tspan>
                            </text>
                            <polygon fill="none" stroke="#000000" stroke-width="2" stroke-miterlimit="10" points="790.525,385.382 769.964,390.794
                769.964,350.032 790.525,355.443   " />
                            <text transform="matrix(1 0 0 1 777.0539 364.7694)" font-family="'MyriadPro-BoldCond'" font-size="12.3367">0</text>
                            <text transform="matrix(1 0 0 1 777.4885 383.5565)" font-family="'MyriadPro-BoldCond'" font-size="12.3367">1</text>
                            <polyline fill="none" stroke="#888888" stroke-miterlimit="10" points="544.363,275 544.363,123.871 321.167,123.871   " />
                            <polyline fill="none" stroke="#888888" stroke-miterlimit="10" points="442.524,420.751 442.524,149.893 321.167,149.893   " />
                            <polyline fill="none" stroke="#888888" stroke-miterlimit="10" points="479.579,325.862 479.579,137.924 321.5,137.924   " />
                            <polyline fill="none" stroke="#888888" stroke-miterlimit="10" points="691.784,272.088 691.651,99.72 321,99.72   " />
                            <polyline fill="none" stroke="#888888" stroke-miterlimit="10" points="781.529,352.297 781.529,86.828 322,86.828   " />
                            <polyline fill="none" stroke="#888888" stroke-miterlimit="10" points="572.75,288.583 584.099,288.333 584.099,192.773
                598.177,192.773   " />
                            <path fill="none" stroke="#888888" stroke-linecap="round" stroke-linejoin="round" stroke-miterlimit="10" d="M598.385,182.87
                l-0.011,12.035l9.456,0.021c2.083,0.004,5.711-2.229,5.719-5.966c0.009-3.804-3.628-6.068-6.045-6.073L598.385,182.87z" />
                            <polyline fill="none" stroke="#888888" stroke-miterlimit="10" points="598.266,185.775 583.859,185.775 583.859,111.518
                321.5,111.518   " />
                            <text transform="matrix(1 0 0 1 166.1545 447.6024)" font-family="'MyriadPro-BoldCond'" font-size="8.2245">15 : 11</text>
                            <text transform="matrix(1 0 0 1 165.6106 424.4242)" font-family="'MyriadPro-BoldCond'" font-size="8.2245">20 : 16</text>
                            <text transform="matrix(1 0 0 1 214.7803 518.7388)" font-family="'MyriadPro-Bold'" font-size="10.1719">Sign Extend</text>
                            <text transform="matrix(1 0 0 1 166.8882 514.0703)" font-family="'MyriadPro-BoldCond'" font-size="8.2245">15 : 0</text>
                            <text transform="matrix(1 0 0 1 165.6539 290.3121)" font-family="'MyriadPro-BoldCond'" font-size="8.2245">20 : 16</text>
                            <text transform="matrix(1 0 0 1 165.3205 245.6454)" font-family="'MyriadPro-BoldCond'" font-size="8.2245">25 : 21</text>
                            <polygon fill="none" stroke="#000000" stroke-width="2" stroke-miterlimit="10" points="285.856,525.496 187.506,525.496
                187.506,509.732 285.856,493.969   " />
                            <text transform="matrix(1 0 0 1 163.5072 98.8673)" font-family="'MyriadPro-BoldCond'" font-size="8.2245">31 : 26</text>
                            <text transform="matrix(1 0 0 1 167.5072 121.2009)" font-family="'MyriadPro-BoldCond'" font-size="8.2245">5 : 0</text>
                        </g>
                        <g id="lines">
                            <line fill="none" stroke="#000000" stroke-width="2" stroke-miterlimit="10" x1="410.691" y1="336.996" x2="470.363" y2="336.994" />
                            <line fill="none" stroke="#000000" stroke-width="2" stroke-miterlimit="10" x1="410.764" y1="277.475" x2="522.724" y2="277.361" />
                            <line fill="none" stroke="#000000" stroke-width="2" stroke-miterlimit="10" x1="489.764" y1="345.975" x2="522.506" y2="345.861" />
                            <line fill="none" stroke="#000000" stroke-width="2" stroke-miterlimit="10" x1="712.477" y1="383.484" x2="769.586" y2="383.535" />
                            <line fill="none" stroke="#000000" stroke-width="2" stroke-miterlimit="10" x1="594.994" y1="316.526" x2="621.756" y2="316.414" />
                            <line fill="none" stroke="#000000" stroke-width="2" stroke-miterlimit="10" x1="109.471" y1="256.9" x2="159" y2="256.9" />
                            <line fill="none" stroke="#000000" stroke-width="2" stroke-miterlimit="10" x1="158" y1="256.9" x2="190.5" y2="256.9" />
                        </g>
                        <g id="polylines">
                            <polyline fill="none" stroke="#000000" stroke-width="2" stroke-miterlimit="10" points="454.05,442.23 470.333,442.23
                            470.333,478.326 131.601,478.326 131.601,339.306 190.839,339.306     " />
                            <polyline fill="none" stroke="#000000" stroke-width="2" stroke-miterlimit="10" points="791.923,373.397 817.506,373.397
                            817.506,561.07 107.962,561.07 108.458,379.413 190.717,379.298   " />
                            <polyline fill="none" stroke="#000000" stroke-width="2" stroke-miterlimit="10" points="286.173,520 424.561,520 424.561,360.316
                            470.357,360.159     " />
                            <polyline fill="none" stroke="#000000" stroke-width="2" stroke-miterlimit="10" points="572.199,316.501 596.277,316.501
                            596.173,237.93 736.402,237.93 736.511,360.404 769.339,360.401   " />
                            <polyline fill="none" stroke="#000000" stroke-width="2" stroke-miterlimit="10" points="191.778,106.14 158,106.138 158,256.9
                            " />
                            <polyline fill="none" stroke="#000000" stroke-width="2" stroke-miterlimit="10" points="191.445,127.14 158,127.14 158,256.9  " />
                            <polyline fill="none" stroke="#000000" stroke-width="2" stroke-miterlimit="10" points="190.778,298.973 158,299.044 158,256.9
                            " />
                            <polyline fill="none" stroke="#000000" stroke-width="2" stroke-miterlimit="10" points="432.445,433.307 158,433.306 158,256.9
                            " />
                            <polyline fill="none" stroke="#000000" stroke-width="2" stroke-miterlimit="10" points="431.945,453.807 158,453.804 158,256.9
                            " />
                            <polyline fill="none" stroke="#000000" stroke-width="2" stroke-miterlimit="10" points="186.333,520 158,520.583 158,256.9    " />
                            <polyline fill="none" stroke="#000000" stroke-width="2" stroke-miterlimit="10" points="410.691,337 449.79,337 449.79,383.395
                            621.595,383.344     " />
                        </g>
                        <g id="svgTemp">
                        </g>
                        <defs>
                            <clipPath id="shape-clip">
                                <circle id="gateCircle" cx="547" cy="320" r="0" />
                            </clipPath>
                        </defs>
                        <g clip-path="url(#shape-clip)">
                            <g id="rectbg">
                                <rect x="0" fill="#FFFFFF" width="847.445" height="605.14" />
                            </g>
                            <g id="gateLight">
                                <line fill="none" stroke="#000000" stroke-miterlimit="10" x1="148" y1="322" x2="348.591" y2="322" />
                                <line fill="none" stroke="#000000" stroke-miterlimit="10" x1="148" y1="342" x2="508" y2="342" />
                                <polyline fill="none" stroke="#000000" stroke-miterlimit="10" points="188,322 188.333,242.333 207.667,242.333   " />
                                <path fill="none" stroke="#000000" stroke-miterlimit="10" d="M368,307h-20v20h20c5.523,0,10-4.477,10-10S373.523,307,368,307z" />
                                <line fill="none" stroke="#000000" stroke-miterlimit="10" x1="347.833" y1="252" x2="328.167" y2="252" />
                                <rect x="326.25" y="250.25" width="3.5" height="3.5" />
                                <path fill="none" stroke="#000000" stroke-miterlimit="10" d="M368,237h-20v20h20c5.523,0,10-4.477,10-10S373.523,237,368,237z" />
                                <polyline fill="none" stroke="#000000" stroke-miterlimit="10" points="348,313.25 328,313.25 328,290.75  " />
                                <polyline fill="none" stroke="#000000" stroke-miterlimit="10" points="378,247 388,247 388,272 408,272   " />
                                <polyline fill="none" stroke="#000000" stroke-miterlimit="10" points="378,317 388,317 388,282 408,282   " />
                                <path fill="none" stroke="#000000" stroke-miterlimit="10" d="M406.881,266.5c-0.298,0-0.592,0.005-0.887,0.009
                 c1.28,3.253,1.99,6.789,1.99,10.491s-0.71,7.238-1.99,10.491c0.295,0.004,0.59,0.009,0.887,0.009
                 c14.977,0,27.119-4.701,27.119-10.5S421.858,266.5,406.881,266.5z" />
                                <line fill="none" stroke="#000000" stroke-miterlimit="10" x1="433.25" y1="277" x2="508.333" y2="277" />
                                <path fill="none" stroke="#000000" stroke-miterlimit="10" d="M488.5,192.5h-20v20h20c5.523,0,10-4.477,10-10
                 S494.023,192.5,488.5,192.5z" />
                                <path fill="none" stroke="#000000" stroke-miterlimit="10" d="M469.381,222c-0.298,0-0.592,0.005-0.887,0.009
                 c1.28,3.253,1.99,6.789,1.99,10.491s-0.71,7.238-1.99,10.491c0.295,0.004,0.59,0.009,0.887,0.009
                 c14.977,0,27.119-4.701,27.119-10.5S484.358,222,469.381,222z" />
                                <polyline fill="none" stroke="#000000" stroke-miterlimit="10" points="468,207 458,207 458,382   " />
                                <line fill="none" stroke="#000000" stroke-miterlimit="10" x1="457.75" y1="237.5" x2="470" y2="237.5" />
                                <rect x="456.25" y="340.25" width="3.5" height="3.5" />
                                <polyline fill="none" stroke="#000000" stroke-miterlimit="10" points="468,197 448,197 448,277   " />
                                <line fill="none" stroke="#000000" stroke-miterlimit="10" x1="448" y1="227" x2="470" y2="227" />
                                <polygon fill="none" stroke="#240C0D" stroke-miterlimit="10" points="508.892,268.706 508.892,307.235 530.821,312.875
                 508.737,318.514 508.737,357.358 553.221,345.923 553.221,279.982  " />
                                <line fill="none" stroke="#240C0D" stroke-miterlimit="10" x1="498.858" y1="202" x2="628.333" y2="202" />
                                <line fill="none" stroke="#240C0D" stroke-miterlimit="10" x1="496.5" y1="232" x2="627.94" y2="232" />
                                <line fill="none" stroke="#240C0D" stroke-miterlimit="10" x1="553" y1="312" x2="628" y2="312" />
                                <polyline fill="none" stroke="#240C0D" stroke-miterlimit="10" points="568,312 568,362 578,362   " />
                                <polygon fill="none" stroke="#000000" stroke-miterlimit="10" points="607.715,368.535 578.698,368.535 578.698,356.605
                 607.715,344.674  " />
                                <line fill="none" stroke="#000000" stroke-miterlimit="10" x1="607.5" y1="362" x2="628" y2="362" />
                            </g>
                            <g id="gateNoLit">
                                <polygon fill="none" stroke="#000000" stroke-miterlimit="10" points="207,231.333 207,254 234.667,243.333    " />
                                <circle fill="none" stroke="#000000" stroke-miterlimit="10" cx="237.833" cy="243.833" r="2.5" />
                                <line fill="none" stroke="#000000" stroke-miterlimit="10" x1="240.333" y1="243" x2="346.5" y2="243" />
                                <polygon fill="none" stroke="#000000" stroke-miterlimit="10" points="338.333,258.167 315.667,258.167 327,285.833    " />
                                <circle fill="none" stroke="#000000" stroke-miterlimit="10" cx="327" cy="289" r="2.5" />
                                <line fill="none" stroke="#000000" stroke-miterlimit="10" x1="327" y1="258.25" x2="327" y2="223.75" />
                                <polygon fill="none" stroke="#000000" stroke-miterlimit="10" points="667,363 627.74,385.888 627.74,182.461 667,203    " />
                                <line fill="none" stroke="#000000" stroke-miterlimit="10" x1="667" y1="282.667" x2="707" y2="282.667" />
                            </g>
                        </g>
                    </svg>
                </div>
                <div class="gate">
                    <svg version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px" width="841.89px" height="595.28px" viewBox="0 0 841.89 595.28" enable-background="new 0 0 841.89 595.28" xml:space="preserve">
                    </svg>
                </div>
            </div>
        </div>
    </div>
    <div class="menuContainer">
        <div class="controlButton">
            <button type="button" name="button" onClick="assembleButtonClicked()">Assemble</button>
            <button type="button" name="button" onClick="stepButtonClicked()">Step</button>
            <button type="button" name="button" onClick="resetButtonClicked()">Reset</button>
            <button type="button" name="button" onClick="testButtonClicked()">Test</button>
        </div>
    </div>
    <script type="text/javascript">
    var PROGRAM_COUNTER = 0;
    var arr = [];
    var ZOOM = 0;
    var codeEditor = CodeMirror(document.getElementById("codeEditor"), {
        value: "//put your code here\n",
        mode: "clike",
        lineNumbers: true
    });
    var assemblyEditor = CodeMirror(document.getElementById("assemblyEditor"), {
        lineNumbers: true
    });

    $(window).mousewheel(function(event) {
        var temp = ZOOM + event.deltaY * 10
        if (temp < 1000 && temp >= 0) {
            ZOOM = temp;
            $("#gateCircle").attr("r", ZOOM);
        }
    });
    </script>
</body>

</html>
